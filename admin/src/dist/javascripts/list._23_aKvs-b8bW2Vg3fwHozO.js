/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/public/javascripts/interactive/list.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/public/javascripts/interactive/list.js":
/*!****************************************************!*\
  !*** ./src/public/javascripts/interactive/list.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nif (/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)) {\n  window.onload = function (params) {\n    for (var i = 0; i < document.getElementsByClassName('el-dialog').length; i++) {\n      document.getElementsByClassName('el-dialog')[i].style.width = '100%'; //iframe 里面的class \n    }\n\n    for (var _i = 0; _i < document.getElementsByClassName('w400').length; _i++) {\n      document.getElementsByClassName('w400')[_i].style.width = '100%'; //限定的表单宽度\n    }\n  };\n}\n\nwindow.addEventListener('pageshow', function (params) {\n  var par = params.target.URL.split('*').length > 1 ? params.target.URL.split('*')[0] : params.target.URL;\n  var _ref = [parent.all.jq, parent.all.json, // parent.document.getElementById('tagHref').getAttribute('src').replace('..', '/manage').split('?')[0],\n  '/manage' + par.substring(par.lastIndexOf('/'), par.lastIndexOf('?') == -1 ? par.length : par.lastIndexOf('?')), document.getElementById('c-container-list').getAttribute('data-uri')],\n      $ = _ref[0],\n      token = _ref[1],\n      u = _ref[2],\n      uri = _ref[3];\n  var _data = {\n    id: ym.init.COMPILESTR.decrypt(token.id),\n    token: ym.init.COMPILESTR.decrypt(token.asset),\n    url: u\n  };\n  new Vue({\n    el: '#c-container-list',\n    data: function data() {\n      return {\n        fileUpdata: ( true ? parent.all.json._j.URLS.Development_Files_ : undefined) + 'upload_file',\n        loading: false,\n        testAdmin: ym.init.COMPILESTR.decrypt(JSON.parse(sessionStorage.getItem('_a'))._i) == \"yuanmenghhx\" || ym.init.COMPILESTR.decrypt(JSON.parse(sessionStorage.getItem('_a'))._i) == \"yuanmengKSX\" ? false : true,\n        //指定的账号不能显示订单查看\n        more: false,\n        tableData: [],\n        currentPage: 1,\n        pageSize: 20,\n        total: 0,\n        page: 1,\n        select: '',\n        searchVal: '',\n        searchName: 'name',\n        search: '',\n        //优惠券 table 搜索\n        listSearch: {\n          hasTest: 0,\n          //默认是排除测试数据\n          timeUnit: 3,\n          //默认查询的是以日为单位的统计日志\n          _time_: ''\n        },\n        //新的列表查询对象\n        selectLong: '',\n        machineNumbers: {\n          machineCount: 0\n        },\n        selectFil: '',\n        selectMater: '',\n        dateLog: '',\n        InputAndVisible: false,\n        //列表操作\n        formData: _defineProperty({\n          machineType: 1,\n          name: '',\n          mUpdateUrl: '',\n          //应用更新\n          madTitle: '',\n          madOrder: '',\n          madUrl: '',\n          madId: '',\n          adminName: '',\n          //超级管理员\n          adminPwd: '',\n          realName: '',\n          adminMobile: '',\n          named: '',\n          roleId: '',\n          isShow: 1,\n          //是否显示\n          isSys: 0,\n          //是否系统配置\n          disableConf: false,\n          //disable 是否可操作\n          disableConfMahineName: '',\n          //机器类型名\n          machineBunkerConfigAllId: '',\n          //绑定机器的配置ID\n          numberBigConf: [//料仓配置\n          {\n            name: '',\n            isShow: 1,\n            number: 1\n          }, {\n            name: '',\n            isShow: 1,\n            number: 2\n          }, {\n            name: '',\n            isShow: 1,\n            number: 3\n          }, {\n            name: '',\n            isShow: 1,\n            number: 4\n          }, {\n            name: '',\n            isShow: 1,\n            number: 5\n          }, {\n            name: '',\n            isShow: 1,\n            number: 6\n          }, {\n            name: '水',\n            isShow: 1,\n            number: 100\n          }, {\n            name: '杯子',\n            isShow: 1,\n            number: 160\n          }, {\n            name: '咖啡',\n            isShow: 1,\n            number: 170\n          }],\n          numberSmallConf: [{\n            name: '水',\n            isShow: 1,\n            number: 100\n          }, {\n            name: '咖啡',\n            isShow: 1,\n            number: 170\n          }, {\n            name: '牛奶',\n            isShow: 1,\n            number: 180\n          }],\n          has: '',\n          bunkerConfigName: '',\n          raffleName: '',\n          //小程序大转盘配置\n          allowConsumeChance: 0,\n          allowMemberConvert: 0,\n          allowShareChance: 0,\n          convertMilliliter: 0,\n          maxLuckyValue: 500,\n          status: 1,\n          allowGrant: 0,\n          //营销商户配置\n          grantMilliliter: 0,\n          //营销商户配置\n          allowShare: 0,\n          //营销商户配置\n          shareMilliliter: 0,\n          //营销商户配置\n          allowSignIn: 0,\n          //营销商户配置\n          signInMilliliter: 0,\n          //营销商户配置\n          allowChangeCup: 0,\n          //营销商户配置\n          changeMilliliter: 0\n        }, \"convertMilliliter\", 0),\n        imageList: {\n          mUpdateUrl: [],\n          //图片li\n          madUrl: [] //视频广告\n\n        },\n        TableAndVisible: false,\n        TableFormData: [],\n        couponUnFormData: [],\n        //礼券明细 de 窗口\n        UpdateTableAndVisible: false,\n        UpdateTableFormData: [],\n        listId: '',\n        productCount: 0,\n        productId: [],\n        detailTableAndVisible: false,\n        detailTableFormData: [],\n        options: [],\n        unbinadmin: {\n          adminIds: '',\n          maintainerName: '',\n          //这里是运维\n          maintainerPhone: '',\n          bindMachine: '',\n          state: ''\n        },\n        addressTable: false,\n        //用户地址 \n        addressTables: [],\n        //地址数组\n        pageTableNum: 1,\n        //循环数组起始值\n        pageTimerOut: false,\n        // 终止值\n        pageCount: 0,\n        //总数值\n        UnFormData: [],\n        adminIds: [],\n        listIds: [],\n        machineNumber: [],\n        restaurants: [],\n        //用户ID搜索相关\n        state: '',\n        timeout: null,\n        userIds: [],\n        userIdts: [],\n        userMode: [],\n        machineLogs: [],\n        //设备日志\n        machineLogViews: false,\n        fileData: _data,\n        num: 1,\n        dialogVisible: false,\n        dialogImageUrl: '',\n        adevtmodel: false,\n        //视频添加/编辑\n        adIds: [],\n        html: '',\n        bunkerConf: {\n          name: '',\n          time: ''\n        },\n        bunkerConfNumber: true,\n        //大小机器的料仓显示\n        pickerOptions: {\n          //时间节点\n          shortcuts: [{\n            text: '最近一周',\n            onClick: function onClick(picker) {\n              var end = new Date();\n              var start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近一个月',\n            onClick: function onClick(picker) {\n              var end = new Date();\n              var start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近三个月',\n            onClick: function onClick(picker) {\n              var end = new Date();\n              var start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近半年',\n            onClick: function onClick(picker) {\n              var end = new Date();\n              var start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 180);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近一年',\n            onClick: function onClick(picker) {\n              var end = new Date();\n              var start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 365);\n              picker.$emit('pick', [start, end]);\n            }\n          }]\n        },\n        select_user: '',\n        //用户列表的批量操作\n        user_type: 1,\n        //用户类型\n        statues: {\n          user: false,\n          flow: false,\n          state: false,\n          ount: false\n        },\n        // 状态的显示/f\n        overdueTime: '',\n        grantCount: '',\n        ount: '',\n        //赠送抽奖次数\n        user_state: 1,\n        order: {},\n        refundMoney: {},\n        //订单退款\n        pathUrlExe: {},\n        //导出\n        optionsTime: [],\n        //时间选择\n        bool: '',\n        StatusName: new Map([['free', {\n          user: new Map([[1, '超级管理员'], [2, '系统管理员'], [3, '商户管理员']]),\n          statues: new Map([[0, '冻结'], [1, '正常']]),\n          machineType: new Map([[1, '大型柜式机'], [2, '小型桌面机'], [3, '无网单机']])\n        }], ['time', {\n          machineRun: new Map([[1, '正常'], [2, '故障'], [3, '离线'], [4, '维护'], [5, '维修'], [6, '维修完成']]),\n          couponTime: new Map([[1, '年'], [2, '月'], [3, '日'], [4, '周'], [5, '小时']])\n        }]]),\n        miniTurnableMore: true,\n        //小程序大转盘添加按钮是否显示\n        appointmentPay: {},\n        //预约详情\n        objectId: '',\n        //开通会员的查询 会员id\n        objectIds: [],\n        //开通会员的查询 会员id\n        pageparams: {},\n        // 预存的页面搜索参数\n        countPages: 1 // 无限滚动的 page\n\n      };\n    },\n    created: function created() {\n      this.list();\n    },\n    methods: {\n      IError: function IError(err) {\n        var _this = this;\n\n        setTimeout(function () {\n          _this.loading = false;\n\n          if (err == \"\\u672A\\u767B\\u5F55\\u6216\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u8FC7\\u65F6\") {\n            // window.top.location.href = `../login.htm?hash:[]`;\n            parent.location.href = \"../login.htm?hash:[nK6t7a]\";\n          }\n        }, 1000);\n        this.$message.error('错了哦!' + err);\n      },\n      ISuccessfull: function ISuccessfull(e) {\n        var _this2 = this;\n\n        setTimeout(function () {\n          _this2.loading = false;\n        }, 1000);\n        this.$message({\n          message: '成功了哦!,' + e,\n          type: 'success'\n        });\n      },\n      handleSizeChange: function handleSizeChange(e) {\n        this.pageSize = e;\n        this.list(this.pageparams ? this.pageparams : null, true);\n      },\n      handleCurrentChange: function handleCurrentChange(e) {\n        this.page = e;\n        this.list(this.pageparams ? this.pageparams : null, true);\n      },\n      list: function list(params, bool) {\n        var _data_ = {},\n            it = this,\n            xml = [];\n\n        if (params) {\n          it.pageparams = params; //保存搜索条件\n\n          params._name_ && params._value_ ? params[params._name_] = params._value_ : null; //第一搜索key of value\n\n          if (params._time_) {\n            params['startDate'] = ym.init.getDateTime(params._time_[0]).split(' ')[0];\n            params['endDate'] = ym.init.getDateTime(params._time_[1]).split(' ')[0];\n\n            if (uri == 'statistics_shop' || uri == 'find_order_list') {\n              params['startTime'] = params['startDate'];\n              params['endTime'] = params['endDate'];\n              delete params['startDate'];\n              delete params['endDate'];\n            }\n\n            if (uri == 'admin_statistics_log_list') {\n              if (params.timeUnit == 2) {\n                params['startDate'] = params['startDate'].substring(0, params['startDate'].lastIndexOf('-'));\n                params['endDate'] = params['endDate'].substring(0, params['endDate'].lastIndexOf('-'));\n              } else if (params.timeUnit == 1) {\n                params['startDate'] = params['startDate'].split('-')[0];\n                params['endDate'] = params['endDate'].split('-')[0];\n              }\n            }\n          }\n        }\n\n        _data_ = Object.assign({\n          //初始对象\n          id: ym.init.COMPILESTR.decrypt(token.id),\n          token: ym.init.COMPILESTR.decrypt(token.asset),\n          url: u\n        }, params);\n        it.loading = true;\n        if (uri == 'manage_prodcut_list_list') _data_['type'] = 1; //临时处理存在此接口存在type 数值问题\n\n        if (uri == 'manage_machine_version') _data_['type'] = 1;\n        if (uri == 'find_machine_advertisement_list') _data_['type'] = 1;\n        if (uri == 'manage_advertisement_list_list') _data_['type'] = 1;\n        if (uri == 'client_user_list') _data_['type'] = 1;\n        if (uri == 'manage_dividend_list') _data_['type'] = 1;\n\n        if (uri == 'find_order_list') {\n          //处理订单的操作\n          var _machin_ = parent.document.getElementById('tagHref').getAttribute('src').split('*'); // 处理从设备列表过来的订单查看\n\n\n          _data_['name'] = JSON.stringify({\n            machineNumber: _machin_.length > 1 ? JSON.parse(decodeURI(_machin_[1])).machineNumber : '',\n            orderId: params ? params['name'] : ''\n          });\n          _data_['url'] = '/manage/orderList.html';\n        }\n\n        if (uri == 'admin_statistics_list' || uri == 'machine_statistics_list' || uri == 'admin_statistics_log_list') {\n          //新商户统计\n          _data_['startDate'] = _data_['startDate'] || ym.init.getDateTime(new Date().setTime(new Date().getTime() - 3600 * 1000 * 24 * 7)).split(' ')[0];\n          _data_['endDate'] = _data_['endDate'] || ym.init.getDateTime(new Date()).split(' ')[0];\n          it.listSearch._time_ = [_data_['startDate'], _data_['endDate']];\n          _data_['hasTest'] = _data_['hasTest'] || it.listSearch.hasTest;\n\n          if (uri == 'admin_statistics_log_list') {\n            _data_['timeUnit'] = params ? params['timeUnit'] : it.listSearch.timeUnit;\n          }\n        }\n\n        ;\n        _data_['page'] = !bool ? function () {\n          it.currentPage = 1;\n          return it.currentPage;\n        }() : it.page;\n        ym.init.XML({\n          method: uri == 'find_machine_poi_list' || uri == 'get_activity_list' || uri == 'statistics_list' || uri == 'maintainer_list' || uri == 'sys_draw_raffle_info' || uri == 'sys_user_raffle_share_list' ? \"GET\" : 'POST',\n          uri: token._j.URLS.Development_Server_ + uri,\n          async: false,\n          xmldata: _data_,\n          done: function done(res) {\n            ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n              _data_ = {}; //清空\n\n              xml = res.data;\n              it.total = parseInt(res.totalCount ? res.totalCount : res.pageCount * 20); //数据总条数\n              // it.currentPage = parseInt(res.pageCount); \n\n              it.tableData = xml;\n              setTimeout(function () {\n                it.loading = false;\n              }, 500);\n            }() : it.IError(res.statusCode.msg);\n          }\n        });\n      },\n      crud: function crud(arg) {\n        window.parent.document.getElementById('tagHref').setAttribute('src', \"../\".concat(arg.uri, \".html?[hash]\").concat(arg.enitId ? '*' + encodeURI(JSON.stringify(arg.enitId)) : '')); // 编辑带参数\n      },\n      //列表操作\n      //清单列表\n      listoperation: function listoperation(e) {\n        var it = this;\n\n        switch (e._tag) {\n          case 'manage_prodcut_list_list':\n            switch (e._type) {\n              case \"A\":\n                _data['type'] = 6;\n                _data['machineType'] = e._evt.machineType;\n                _data['name'] = e._evt.name;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.InputAndVisible = false;\n                        it.list(); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"S\":\n                _data['type'] = 2;\n                _data['page'] = 1;\n                _data['listId'] = e._evt.listId;\n                it.listId = e._evt.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.TableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        res.productShowList.forEach(function (element) {\n                          it.TableFormData.push({\n                            productId: element.productId,\n                            productName: element.productName,\n                            productPrice: parseFloat(element.productPrice / 100).toFixed(2),\n                            formulaName: element.formulaName,\n                            bunkerNumber: element.bunkerNumber,\n                            createTime: ym.init.getDateTime(element.createTime).split(' ')[0],\n                            productRank: element.productRank,\n                            machineType: it.StatusName.get('free').machineType.get(element.machineType)\n                          });\n                        });\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"E\":\n                _data['type'] = 3;\n                _data['listId'] = it.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.UpdateTableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        res.productInfoList.forEach(function (element, index) {\n                          it.UpdateTableFormData.push({\n                            productId: element.productId,\n                            productName: element.productName,\n                            productPrice: parseFloat(element.productPrice / 100).toFixed(2),\n                            productPicurl: element.productPicurl,\n                            formulaName: element.formulaName,\n                            bunkerNumber: element.bunkerNumber,\n                            createTime: ym.init.getDateTime(element.createTime).split(' ')[0],\n                            productRank: element.productRank,\n                            machineType: it.StatusName.get('free').machineType.get(element.machineType),\n                            productComment: element.productComment\n                          });\n\n                          if (res.productIdList) {\n                            res.productIdList.forEach(function (e) {\n                              if (e == element.productId) {\n                                it.$nextTick(function () {\n                                  it.tableChecked(index); //每次更新了数据，触发这个函数即可。\n                                });\n                              }\n                            });\n                          }\n\n                          ;\n                        });\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"P\":\n                //编辑清单\n                _data['type'] = 4;\n                _data['listId'] = it.listId;\n                _data['productId'] = it.productId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.UpdateTableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.UpdateTableAndVisible = false;\n                        it.listoperation({\n                          _tag: 'manage_prodcut_list_list',\n                          _evt: {\n                            listId: it.listId\n                          },\n                          _type: 'S'\n                        }); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"D\":\n                _data['type'] = 5;\n                _data['listId'] = e._evt.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: true,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.list(); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              default:\n                break;\n            }\n\n            break;\n\n          case 'manage_advertisement_list_list':\n            //machine vedio detail list\n            switch (e._type) {\n              case \"A\":\n                _data['type'] = 6;\n                _data['name'] = e._evt.name;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.InputAndVisible = false;\n                        delete _data['name'];\n                        it.list(); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"S\":\n                _data['type'] = 2;\n                _data['page'] = 1;\n                _data['listId'] = e._evt.listId;\n                it.listId = e._evt.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.TableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        res.advertisementList.forEach(function (element) {\n                          it.TableFormData.push({\n                            madId: element.madId,\n                            madOrder: element.madOrder,\n                            // madSize: element.madSize,  //视频大小\n                            madStatus: element.madStatus ? '上架' : '下架',\n                            madTime: ym.init.getDateTime(element.madTime).split(' ')[0],\n                            madTitle: element.madTitle,\n                            // madType: element.madType,  //广告类型\n                            madUrl: element.madUrl\n                          });\n                        });\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"E\":\n                _data['type'] = 3;\n                _data['listId'] = it.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.UpdateTableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        res.advertisementInfoList.forEach(function (element, index) {\n                          it.UpdateTableFormData.push({\n                            madId: element.madId,\n                            madOrder: element.madOrder,\n                            // madSize: element.madSize,\n                            madStatus: element.madStatus ? '上架' : '下架',\n                            madTime: ym.init.getDateTime(element.madTime).split(' ')[0],\n                            madTitle: element.madTitle,\n                            // madType: element.madType,\n                            madUrl: element.madUrl\n                          });\n\n                          if (res.adIdList) {\n                            res.adIdList.forEach(function (e) {\n                              if (e == element.madId) {\n                                it.$nextTick(function () {\n                                  it.tableChecked(index); //每次更新了数据，触发这个函数即可。\n                                });\n                              }\n                            });\n                          }\n\n                          ;\n                        });\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"P\":\n                //编辑清单\n                _data['type'] = 4;\n                _data['listId'] = it.listId;\n                _data['adId'] = it.adIds;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      it.UpdateTableFormData = [];\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.UpdateTableAndVisible = false;\n                        it.listoperation({\n                          _tag: 'manage_advertisement_list_list',\n                          _evt: {\n                            listId: it.listId\n                          },\n                          _type: 'S'\n                        }); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              case \"D\":\n                _data['type'] = 5;\n                _data['listId'] = e._evt.listId;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + uri,\n                  async: true,\n                  xmldata: _data,\n                  done: function done(res) {\n                    try {\n                      ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                        it.ISuccessfull(res.statusCode.msg);\n                        it.list(); //刷新列表\n                      }() : function () {\n                        throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                      }();\n                    } catch (error) {\n                      it.IError(error);\n                    }\n                  }\n                });\n                break;\n\n              default:\n                break;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      },\n      handleSelectionChange: function handleSelectionChange(val) {\n        var _this3 = this;\n\n        //下拉选项\n        this.multipleSelection = val;\n        this.productCount = val.length;\n        if (uri == 'manage_prodcut_list_list') return false; //阻止继续渲染清单的操作\n\n        this.productId = [];\n        this.adIds = [];\n        this.machineNumber = [];\n        this.adminIds = [];\n        this.userMode = [];\n        val.forEach(function (e) {\n          _this3.productId.push(e.productId || []);\n\n          _this3.machineNumber.push(e.machineNumber || []); //机器编号数组\n\n\n          _this3.adminIds.push(e.adminId || []);\n\n          _this3.adIds.push(e.madId || []);\n\n          e.userId != \"无\" ? _this3.userIdts.push(e.userId) : null;\n\n          _this3.userMode.push(e || []); //批量操作用户类型\n\n        });\n      },\n      filterTag: function filterTag(value, row) {\n        return row.machineType === value;\n      },\n      tableChecked: function tableChecked(e) {\n        this.$refs.multipleTable.toggleRowSelection(this.UpdateTableFormData[e], true);\n      },\n      searchAPIs: function searchAPIs(_v) {\n        var _this4 = this;\n\n        //查找API\n        var it = this;\n\n        switch (_v._uri) {\n          case 'manage_machine_product_relation':\n            //清单的绑定解绑\n            if (_v._type == 4) {\n              //针对料仓配置绑定的机器查询\n              _data['adminId'] = _v._id;\n              delete _data['page'];\n              delete _data['listId'];\n              delete _data['type'];\n              delete _data['machineNumber'];\n              ym.init.XML({\n                method: 'GET',\n                uri: token._j.URLS.Development_Server_ + 'find_admin_machine',\n                //查询绑定关系\n                async: false,\n                xmldata: _data,\n                done: function done(res) {\n                  it.UnFormData = [];\n                  res.data.forEach(function (_params_) {\n                    it.UnFormData.push({\n                      machineNumber: _params_.machineNumber,\n                      listName: _params_.listName,\n                      machineType: it.StatusName.get('free').machineType.get(_params_.machineType)\n                    });\n                  });\n                }\n              });\n              return false;\n            }\n\n            _v._type.forEach(function (e) {\n              if (e == 6) e = 4; //暂时解决产品清单绑定问题\n\n              _data['type'] = e;\n              _data['adminId'] = _v._id || '';\n              _data['listId'] = _v._listid || '';\n              _data['machineNumber'] = _this4.machineNumber || [];\n              ym.init.XML({\n                method: 'POST',\n                uri: token._j.URLS.Development_Server_ + _v._uri,\n                async: false,\n                xmldata: _data,\n                done: function done(res) {\n                  try {\n                    ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                      console.log(res);\n\n                      switch (e) {\n                        case 1:\n                          it.listIds = [];\n                          res.productListList.forEach(function (data) {\n                            it.listIds.push({\n                              value: data.listId,\n                              label: data.listName\n                            });\n                          });\n                          break;\n\n                        case 2:\n                          it.adminIds = [];\n                          res.userList.forEach(function (data) {\n                            it.adminIds.push({\n                              value: data.adminId,\n                              label: data.adminName\n                            });\n                          });\n                          break;\n\n                        case 3:\n                          it.UnFormData = [];\n\n                          for (var i = 0; i < res.machineNumberList.length; i++) {\n                            it.UnFormData.push({\n                              listId: res.machineNumberList[i].listId,\n                              listName: res.machineNumberList[i].listName,\n                              machineNumber: res.machineNumberList[i].machineNumber,\n                              machineType: res.machineNumberList[i].machineType\n                            });\n                          }\n\n                          break;\n\n                        default:\n                          it.ISuccessfull(res.statusCode.msg);\n                          it.detailTableAndVisible = false;\n                          break;\n                      }\n                    }() : function () {\n                      throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                    }();\n                  } catch (error) {\n                    it.IError(error);\n                  }\n                }\n              });\n            });\n\n            break;\n\n          case 'get_machine_number_arr':\n            //绑定推送/解绑 \n            _data['name'] = ''; //处理name 缓存\n\n            this.userIds = []; //处理name 缓存\n\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _v._uri,\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                res.list.forEach(function (e) {\n                  _data['machineNumber'] = e;\n                  ym.init.XML({\n                    method: 'GET',\n                    uri: token._j.URLS.Development_Server_ + 'statistics_user_list',\n                    //查询绑定关系\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      var uname = \"无\",\n                          uid = \"无\";\n                      res.statusCode.status != '4444' ? res.userList.forEach(function (arr) {\n                        uname = arr.nickName;\n                        uid = arr.userId;\n                      }) : null;\n                      it.UnFormData.push({\n                        machineNumber: e,\n                        userName: uname,\n                        userId: uid\n                      });\n                    }\n                  });\n                });\n              }\n            });\n            break;\n\n          case 'manage_advertisement_list_relation':\n            //广告视频清单\n            _v._type.forEach(function (e) {\n              _data['type'] = e;\n              _data['adminId'] = it.adminIds || [];\n              _data['listId'] = _v._listid || '';\n              ym.init.XML({\n                method: 'POST',\n                uri: token._j.URLS.Development_Server_ + _v._uri,\n                async: false,\n                xmldata: _data,\n                done: function done(res) {\n                  try {\n                    ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                      switch (e) {\n                        case 1:\n                          it.listIds = [];\n                          res.advertisementListList.forEach(function (data) {\n                            it.listIds.push({\n                              value: data.listId,\n                              label: data.listName\n                            });\n                          });\n                          break;\n\n                        case 2:\n                          it.UnFormData = [];\n                          res.userList.forEach(function (data) {\n                            it.UnFormData.push({\n                              adminId: data.adminId,\n                              adListId: data.adListId,\n                              listName: data.listName,\n                              adminName: data.adminName\n                            });\n                          });\n                          break;\n\n                        default:\n                          it.ISuccessfull(res.statusCode.msg);\n                          it.detailTableAndVisible = false;\n                          break;\n                      }\n                    }() : function () {\n                      throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                    }();\n                  } catch (error) {\n                    it.IError(error);\n                  }\n                }\n              });\n            });\n\n            break;\n\n          case 'find_user_milliliter_log':\n            //用户列表的毫升数日志\n            delete _data['type'];\n            _data['userId'] = _v._id;\n            _data['page'] = 1;\n            _data['start'] = '';\n            _data['end'] = '';\n            ym.init.XML({\n              method: 'GET',\n              uri: token._j.URLS.Development_Server_ + 'find_user_milliliter_log',\n              //查询绑定关系\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                if (res.statusCode.status != 6666) return false;\n                res.logList.forEach(function (e) {\n                  it.TableFormData.push({\n                    logId: e.logId,\n                    userId: e.userId,\n                    userName: e.userName,\n                    createTime: e.createTime,\n                    milliliterChange: e.milliliterChange,\n                    stateComment: e.stateComment\n                  });\n                });\n              }\n            });\n            break;\n\n          case 'find_user_couponList':\n            //用户列表的毫升数日志\n            _data['userId'] = _v._id;\n            _data['page'] = 1;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + 'find_user_couponList',\n              //查询绑定关系\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                res.logList.forEach(function (e) {\n                  it.TableFormData.push({\n                    logId: e.logId,\n                    userId: e.userId,\n                    userName: e.userName,\n                    createTime: e.createTime,\n                    milliliterChange: e.milliliterChange,\n                    stateComment: e.stateComment\n                  });\n                });\n              }\n            });\n            break;\n\n          default:\n            break;\n        }\n      },\n      querySearchAsync: function querySearchAsync(queryString, cb) {\n        //动态查询用户\n        var it = this;\n        _data['type'] = 1;\n        _data['name'] = queryString || '拉';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'find_user_for_bind',\n          //查询绑定关系\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            var _arr = [];\n            res.list ? res.list.forEach(function (e) {\n              _arr.push({\n                value: e.nickName,\n                _id: e.userId\n              });\n            }) : it.IError(res.statusCode.msg);\n            it.UnFormData = res.list; //用户批量操作\n\n            var results = queryString ? _arr.filter(it.createStateFilter(queryString)) : _arr;\n            clearTimeout(it.timeout);\n            it.timeout = setTimeout(function () {\n              cb(results);\n            }, 3000 * Math.random());\n          }\n        });\n      },\n      createStateFilter: function createStateFilter(queryString) {\n        return function (state) {\n          return state.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n        };\n      },\n      handleSelect: function handleSelect(item) {\n        //取得选择的用户ID\n        this.userIds = item._id; //this.UserTableData.push(item); //用户批量操作\n      },\n      bindUser: function bindUser(e) {\n        //执行绑定/解绑\n        var it = this;\n\n        switch (e._uri) {\n          case 'client_user_list':\n            e._session != '' ? null : it.IError('缺少参数！');\n\n            var _sess = JSON.parse(e._session);\n\n            switch (_sess._uri) {\n              case 'manage_client_user':\n                _data['userType'] = it.user_type; //用户类型\n\n                _data['type'] = _sess._type; //用户\n\n                it.userMode.forEach(function (_evnt) {\n                  _data['userId'] = _evnt.userId;\n                  _data['nickName'] = _evnt.nickName;\n                  ym.init.XML({\n                    method: 'POST',\n                    uri: token._j.URLS.Development_Server_ + _sess._uri,\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      it.detailTableAndVisible = false;\n                      it.ISuccessfull(res.statusCode.msg);\n                    }\n                  });\n                });\n                delete _data['userType'];\n                delete _data['userId'];\n                delete _data['nickName'];\n                it.list(); //刷新列表\n\n                break;\n\n              case 'grant_compensate_milliliter':\n                //补偿流量\n                //grant_compensate_milliliter\n                _data['grantCount'] = it.grantCount;\n                _data['overdueTime'] = it.overdueTime;\n                _data['type'] = _sess._type; //用户\n\n                it.userMode.forEach(function (_evnt) {\n                  _data['userId'] = _evnt.userId;\n                  _data['nickName'] = _evnt.nickName;\n                  ym.init.XML({\n                    method: 'GET',\n                    uri: token._j.URLS.Development_Server_ + _sess._uri,\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      it.detailTableAndVisible = false;\n                      it.ISuccessfull(res.statusCode.msg);\n                    }\n                  });\n                });\n                delete _data['grantCount'];\n                delete _data['overdueTime'];\n                it.list(); //刷新列表\n\n                break;\n\n              case 'grant_sys_user_draw_chance':\n                //小程序大转盘 赠送抽奖次数\n                _data['grantCount'] = it.ount;\n                it.userMode.forEach(function (_evnt) {\n                  _data['userId'] = _evnt.userId;\n                  ym.init.XML({\n                    method: 'GET',\n                    uri: token._j.URLS.Development_Server_ + _sess._uri,\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      it.detailTableAndVisible = false;\n                      it.ISuccessfull(res.statusCode.msg);\n                    }\n                  });\n                });\n                delete _data['grantCount'];\n                delete _data['name'];\n                delete _data['userId'];\n                it.list(); //刷新列表\n\n                break;\n\n              case 'dredge_member':\n                //后台开通会员\n                _data['memberRuleId'] = it.objectId;\n                it.userMode.forEach(function (_evnt) {\n                  _data['userId'] = _evnt.userId;\n                  ym.init.XML({\n                    method: 'GET',\n                    uri: token._j.URLS.Development_Server_ + _sess._uri,\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      it.detailTableAndVisible = false;\n                      it.ISuccessfull(res.statusCode.msg);\n                    }\n                  });\n                });\n                delete _data['memberRuleId'];\n                delete _data['userId'];\n                it.list(); //刷新列表\n\n                break;\n\n              default:\n                //赠送抽奖次数 （1.0版本赠送）\n                _data['grantCount'] = it.ount;\n                it.userMode.forEach(function (_evnt) {\n                  _data['userId'] = _evnt.userId;\n                  ym.init.XML({\n                    method: 'POST',\n                    uri: token._j.URLS.Development_Server_ + _sess._uri,\n                    async: false,\n                    xmldata: _data,\n                    done: function done(res) {\n                      it.detailTableAndVisible = false;\n                      it.ISuccessfull(res.statusCode.msg);\n                    }\n                  });\n                });\n                delete _data['grantCount'];\n                break;\n            }\n\n            break;\n\n          case 'batch_free_user':\n            _data['type'] = 2;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + 'batch_free_user',\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                it.detailTableAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n              }\n            });\n            break;\n\n          default:\n            _data['machineNumber'] = this.machineNumber;\n            _data['type'] = e._type;\n            _data['userIds'] = e._id ? this.userIdts : this.userIds;\n            ym.init.XML({\n              method: 'GET',\n              uri: token._j.URLS.Development_Server_ + e._uri,\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                it.detailTableAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n              }\n            });\n            break;\n        }\n      },\n      machineLog: function machineLog(e) {\n        var it = this;\n        delete _data['page'];\n        _data['type'] = 5;\n        _data['machineNumber'] = e.enitId.machineNumber;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'manage_machine',\n          async: true,\n          xmldata: _data,\n          done: function done(res) {\n            res.machineFaultList.forEach(function (arr) {\n              it.machineLogs.push({\n                i: ym.init.getDateTime(arr.faultTime),\n                t: arr.faultContent\n              });\n            });\n          }\n        });\n      },\n      fileChange: function fileChange(e) {\n        //上传结构\n        _data['type'] = 4;\n        _data['mUpdateVersion'] = this.formData.mUpdateVersion;\n      },\n      filemadUrlChange: function filemadUrlChange(e) {\n        _data['type'] = 9;\n      },\n      fileExceed: function fileExceed() {\n        this.IError('只允许单个上传');\n      },\n      machineSceneSuccess: function machineSceneSuccess(e) {\n        this.formData.mUpdateUrl = e.realPath; // 应用地址\n\n        this.formData.madUrl = e.realPath; //视频地址\n      },\n      handleRemove: function handleRemove(file, fileList) {\n        console.log(file, fileList);\n      },\n      handlePictureCardPreview: function handlePictureCardPreview(file) {\n        //点击查看放大的时候\n        this.dialogVisible = true;\n        this.dialogImageUrl = 'http://www.cbcoffee.cn/rundev/manage/images/Android.svg';\n      },\n      machineVersion: function machineVersion(_idata) {\n        var it = this;\n        _data['type'] = _idata._type;\n        _data['machineType'] = _idata._machineType;\n        _data['mUpdateVersion'] = _idata._d.mUpdateVersion;\n        _data['versionCode'] = _idata._d.versionCode;\n        _data['mUpdateDes'] = _idata._d.mUpdateDes;\n        _data['mUpdateUrl'] = this.formData.mUpdateUrl;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + _idata._uri,\n          async: true,\n          xmldata: _data,\n          done: function done(res) {\n            ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n              it.ISuccessfull(res.statusCode.msg);\n              it.detailTableAndVisible = false;\n              it.list();\n            }() : it.IError(res.statusCode.msg);\n          }\n        });\n      },\n      deleteData: function deleteData(_del) {\n        //删除操作\n        var it = this;\n\n        switch (_del._uri) {\n          case \"manage_poi\":\n            _data['poiIds'] = _del._delete.poiId;\n            _data['type'] = _del._type;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _del._uri,\n              async: true,\n              xmldata: _data,\n              done: function done(res) {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.list();\n                }() : it.IError(res.statusCode.msg);\n              }\n            });\n            break;\n\n          case 'manage_machine_advertisement':\n            _data['madId'] = _del._parameter;\n            _data['type'] = _del._type;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _del._uri,\n              async: true,\n              xmldata: _data,\n              done: function done(res) {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.list();\n                }() : it.IError(res.statusCode.msg);\n              }\n            });\n            break;\n\n          case 'manage_coupon':\n            _data['couponId'] = _del._parameter;\n            _data['type'] = _del._type;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _del._uri,\n              async: true,\n              xmldata: _data,\n              done: function done(res) {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.list();\n                }() : it.IError(res.statusCode.msg);\n              }\n            });\n            break;\n\n          default:\n            break;\n        }\n      },\n      addEventData: function addEventData(_event) {\n        //添加视频广告///优惠券赠送\n        var it = this;\n\n        switch (_event._uri) {\n          case 'manage_machine_advertisement':\n            _data['madOrder'] = _event._parameter.madOrder;\n            _data['madTitle'] = _event._parameter.madTitle;\n            _data['madUrl'] = _event._parameter.madUrl;\n            _data['type'] = _event._type;\n\n            if (it.formData.madId) {\n              _data['madId'] = it.formData.madId;\n              _data['type'] = 4;\n            }\n\n            ;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _event._uri,\n              async: true,\n              xmldata: _data,\n              done: function done(res) {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.adevtmodel = false;\n                  it.list();\n                }() : it.IError(res.statusCode.msg);\n              }\n            });\n            break;\n\n          case 'manage_coupon':\n            //赠送优惠券\n            _data['grantCount'] = _event._parameter;\n            _data['couponId'] = it.unbinadmin.couponId;\n            _data['userId'] = [];\n            it.userMode.forEach(function (e) {\n              _data['userId'].push(e.userId); //用户ID\n\n            });\n            _data['type'] = _event._type;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + _event._uri,\n              async: true,\n              xmldata: _data,\n              done: function done(res) {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.detailTableAndVisible = false;\n                  delete _data['name'];\n                  delete _data['grantCount'];\n                  delete _data['couponId'];\n                  delete _data['userId'];\n                  it.list();\n                }() : it.IError(res.statusCode.msg);\n              }\n            });\n            break;\n\n          default:\n            break;\n        }\n      },\n      enitEventData: function enitEventData(_event) {\n        var it = this;\n\n        switch (_event._uri) {\n          case 'manage_machine_advertisement':\n            if (!_event.hasOwnProperty('_status')) {\n              _data['madId'] = _event._parameter;\n              _data['type'] = _event._type;\n              ym.init.XML({\n                method: 'POST',\n                uri: token._j.URLS.Development_Server_ + _event._uri,\n                async: true,\n                xmldata: _data,\n                done: function done(res) {\n                  ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                    it.imageList.madUrl = []; // 先清空视频地址列表\n\n                    it.ISuccessfull(res.statusCode.msg);\n                    it.formData.madTitle = res.machineAdvertisementInfo.madTitle;\n                    it.formData.madUrl = res.machineAdvertisementInfo.madUrl;\n                    it.formData.madOrder = res.machineAdvertisementInfo.madOrder;\n                    it.formData.madId = res.machineAdvertisementInfo.madId;\n                    it.imageList.madUrl.push({\n                      name: 'madUrl',\n                      url: res.machineAdvertisementInfo.madUrl\n                    });\n                  }() : it.IError(res.statusCode.msg);\n                }\n              });\n            } else {\n              //madStatus\n              _data['madId'] = _event._parameter;\n              _data['type'] = _event._type;\n              _data['madStatus'] = +!_event._status;\n              ym.init.XML({\n                method: 'POST',\n                uri: token._j.URLS.Development_Server_ + _event._uri,\n                async: true,\n                xmldata: _data,\n                done: function done(res) {\n                  ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                    delete _data['madId'];\n                    delete _data['madStatus'];\n                    it.list();\n                  }() : it.IError(res.statusCode.msg);\n                }\n              });\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      },\n      userSelect: function userSelect(_event) {\n        //用户批量操作\n        _event = JSON.parse(_event);\n        var it = this;\n\n        switch (_event._uri) {\n          case 'manage_client_user':\n            if (_event._type == 2) {\n              //更改用户类型 \n              it.statues.user = true;\n              it.statues.state = false;\n              it.statues.flow = false;\n              it.statues.ount = false;\n              it.statues.objectId = false;\n            } else {\n              //更改用户状态\n              it.statues.user = false;\n              it.statues.state = true;\n              it.statues.flow = false;\n              it.statues.ount = false;\n              it.statues.objectId = false;\n            }\n\n            break;\n\n          case 'grant_compensate_milliliter':\n            //更改用户毫升数\n            it.statues.user = false;\n            it.statues.state = false;\n            it.statues.flow = true;\n            it.statues.ount = false;\n            it.statues.objectId = false;\n            break;\n\n          case 'dredge_member':\n            //后台开通会员-- 查询会员\n            it.statues.user = false;\n            it.statues.state = false;\n            it.statues.flow = false;\n            it.statues.ount = false;\n            it.statues.objectId = true;\n            ym.init.XML({\n              method: 'POST',\n              uri: token._j.URLS.Development_Server_ + 'get_member_list',\n              async: false,\n              xmldata: _data,\n              done: function done(res) {\n                try {\n                  ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                    setTimeout(function () {\n                      it.objectIds = [];\n                      res.memberRuleList.forEach(function (key, index) {\n                        it.objectIds.push({\n                          memberRuleId: key.memberRuleId,\n                          memberRuleName: \"ID\\uFF1A\".concat(key.memberRuleId, \"   \\u540D\\u79F0\\uFF1A\").concat(key.memberRuleName)\n                        });\n                      });\n                    }, 500);\n                  }() : function () {\n                    throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                  }();\n                } catch (error) {\n                  it.IError(error);\n                }\n              }\n            });\n            break;\n\n          default:\n            //赠送抽奖次数\n            it.statues.user = false;\n            it.statues.state = false;\n            it.statues.ount = true;\n            it.statues.flow = false;\n            it.statues.objectId = false;\n            break;\n        }\n      },\n      statusVip: function statusVip(e) {\n        // 更改会员状态\n        var it = this;\n        _data['memberId'] = e;\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'change_member_status',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      orderDetail: function orderDetail(e) {\n        //订单详情\n        var it = this;\n        _data['orderId'] = e;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'order_detail',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.order = {};\n                it.order.orderId = res.detail.orderId;\n                it.order.userId = res.detail.userId;\n                it.order.nickName = res.detail.nickName;\n                it.order.headPicUrl = res.detail.headPicUrl;\n                it.order.machineNumber = res.detail.machineNumber;\n                it.order.machineType = res.detail.machineType;\n                it.order.adminId = res.detail.adminId;\n                it.order.adminName = res.detail.adminName;\n                it.order.paymentType = res.detail.paymentType;\n                it.order.spendingMoney = res.detail.spendingMoney;\n                it.order.paymentMoney = res.detail.paymentMoney;\n                it.order.productId = res.detail.productId;\n                it.order.productName = res.detail.productName;\n                it.order.flavorShow = JSON.stringify(res.detail.flavorShow);\n                it.order.couponName = res.detail.couponName;\n                it.order.consumptionType = res.detail.consumptionType;\n                it.order.orderStatus = res.detail.orderStatus;\n                it.order.redeemCode = res.detail.redeemCode;\n                it.order.paymentTime = res.detail.paymentTime;\n                it.order.createTime = res.detail.createTime;\n                it.order.orderType = res.detail.orderType;\n                it.order.refundId = res.detail.refundId;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      refundMoneyNum: function refundMoneyNum(_event) {\n        //order_refund  订单退款\n        var it = this;\n        it.loading = true;\n        _data['orderId'] = _event.orderId;\n        _data['refundLimit'] = parseFloat(_event.payNum * 100).toFixed(0) || 0;\n        _data['milliliterLimit'] = _event.milliliterLimit || '';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'order_refund',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                it.InputAndVisible = false;\n                setTimeout(function () {\n                  it.loading = false;\n                  it.list();\n                }, 500);\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      exportOrder: function exportOrder(_event) {\n        // 订单导出 excel\n        var it = this;\n        it.loading = true;\n        _data['name'] = JSON.stringify({\n          machineNumber: _event.machineNumber || '',\n          adminName: _event.adminName || '',\n          productName: _event.productName || '',\n          couponName: _event.couponName || ''\n        });\n        _data['consumptionType'] = _event.consumptionType || '';\n        _data['orderStatus'] = _event.orderStatus || '';\n        _data['startTime'] = it.optionsTime[0] || '';\n        _data['endTime'] = it.optionsTime[1] || '';\n        _data['orderLine'] = _event.orderLine || '';\n        _data['sort'] = _event.sort || '';\n        _data['orderType'] = _event.orderType || '';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_order_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                setTimeout(function () {\n                  it.loading = false;\n                }, 500);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      exportPushOrder: function exportPushOrder(_event) {\n        // 资金管理导出 excel\n        var it = this;\n        it.loading = true;\n        _data['orderId'] = _event.consumptionType || '';\n        _data['machineNumber'] = _event.orderStatus || '';\n        _data['startTime'] = it.optionsTime[0] || '';\n        _data['endTime'] = it.optionsTime[1] || '';\n        _data['adminName'] = _event.orderLine || '';\n        _data['userId'] = _event.sort || '';\n        _data['orderType'] = _event.orderType || '';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_order_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                setTimeout(function () {\n                  it.loading = false;\n                }, 500);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      getTime: function getTime(_event) {\n        //时间区间\n        this.optionsTime[0] = ym.init.getDateTime(_event[0]);\n        this.optionsTime[1] = ym.init.getDateTime(_event[1]);\n      },\n      submit: function submit(_event) {\n        var _type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'POST';\n\n        var it = this;\n\n        if (_event.en == 'pull') {\n          //编辑\n          if (_event.d) {\n            _data['maintainerId'] = _event.d;\n            _type = 'GET';\n          } else {\n            if (_event.unbinadmin.secc) {\n              //执行不同的操作\n              _data['operaType'] = 2;\n              _data['operaVal'] = _event.unbinadmin.secc;\n            } else if (_event.unbinadmin.bindMachine) {\n              _data['operaType'] = 5;\n              _data['operaVal'] = _event.unbinadmin.bindMachine;\n            } else {\n              _data['operaType'] = 4;\n              _data['operaVal'] = it.userIds;\n            }\n          }\n        } else {\n          //添加\n          _data['maintainerName'] = _event.formData.maintainerName || '';\n          _data['maintainerPhone'] = _event.formData.maintainerPhone || '';\n          _data['password'] = _event.formData.password || '';\n          _data['userId'] = it.userIds;\n        }\n\n        ym.init.XML({\n          method: _type,\n          uri: token._j.URLS.Development_Server_ + _event.uri,\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                if (_event.en == 'pull' && _event.d) {\n                  it.unbinadmin.maintainerName = res.maintainer.maintainerName;\n                  it.unbinadmin.maintainerPhone = res.maintainer.maintainerPhone; // it.unbinadmin.secc = res.maintainer.maintainerStatus;\n\n                  it.unbinadmin.bindMachine = res.maintainer.bindMachine == -1 ? '' : res.maintainer.bindMachine;\n                  it.unbinadmin.state = res.maintainer.nickName != '无' ? res.maintainer.nickName : '';\n                  it.userIds = res.maintainer.userId;\n                } else {\n                  it.ISuccessfull(res.statusCode.msg);\n                  delete _data['name'];\n                  setTimeout(function () {\n                    it.TableAndVisible = false;\n                    it.detailTableAndVisible = false;\n                    it.loading = false;\n                  }, 500);\n                  it.list();\n                }\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      adminSubmit: function adminSubmit(_event) {\n        //超级管理员\n        var it = this;\n\n        if (_event.en == \"pull\") {\n          _data['type'] = 1;\n          _data['toAdminId'] = _event._d;\n        } else {\n          _data['type'] = 5;\n\n          if (it.bool != '') {\n            delete _data['toAdminId'];\n            delete _data['page'];\n            _data['adminToken'] = it.bool.adminToken;\n            _data['type'] = 6;\n            _data['registerTime'] = it.bool.registerTime;\n            _data['manageId'] = it.bool.manageId;\n            _data['adminStatus'] = it.bool.adminStatus;\n            _data['adminId'] = it.bool.adminId;\n          }\n\n          ;\n          _data['adminName'] = _event.formData.adminName;\n          _data['adminPwd'] = _event.formData.adminPwd;\n          _data['roleId'] = _event.formData.roleId;\n          _data['realName'] = _event.formData.realName;\n          _data['adminMobile'] = _event.formData.adminMobile;\n          _data['userId'] = it.userIds;\n          _data['named'] = _event.formData.named;\n        }\n\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + _event.uri,\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                if (_event.en == 'pull' && _event._d) {\n                  it.formData.adminName = res.adminUser.adminName;\n                  it.formData.adminPwd = res.adminUser.adminPwd;\n                  it.formData.roleId = res.adminUser.roleId;\n                  it.formData.realName = res.adminUser.realName;\n                  it.formData.adminMobile = res.adminUser.adminMobile;\n                  it.formData.named = res.adminUser.named;\n                  it.formData.state = res.adminUser.nickName != '无' ? res.adminUser.nickName : '';\n                  it.userIds = res.adminUser.userId != -1 ? res.adminUser.userId : [];\n                  it.bool = {\n                    adminToken: res.adminUser.adminToken || '',\n                    registerTime: ym.init.getDateTime(res.adminUser.registerTime) || '',\n                    manageId: res.adminUser.manageId || '',\n                    adminStatus: res.adminUser.adminStatus || '',\n                    adminId: res.adminUser.adminId\n                  };\n                } else {\n                  it.ISuccessfull(res.statusCode.msg);\n                  delete _data['roleId'];\n                  delete _data['adminName'];\n                  delete _data['adminId'];\n                  delete _data['realName'];\n                  setTimeout(function () {\n                    it.TableAndVisible = false;\n                    it.detailTableAndVisible = false;\n                    it.loading = false;\n                  }, 500);\n                  it.list();\n                }\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      showtruntablelogs: function showtruntablelogs(params) {\n        //转盘记录\n        console.log(params);\n        var it = this;\n        _data['addressId'] = params;\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'user_address_detail',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.UnFormData.push({\n                  userId: res.data.userId,\n                  named: res.data.named,\n                  phone: res.data.phone,\n                  province: res.data.province,\n                  city: res.data.city,\n                  district: res.data.district,\n                  address: res.data.address,\n                  createTime: res.data.createTime\n                });\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      exportTurntableUserLogs: function exportTurntableUserLogs(params) {\n        //导出用户抽奖记录\n        var it = this;\n        _data['userId'] = params.userId || '';\n        _data['drawInstanceId'] = params.drawInstanceId || '';\n        _data['drawId'] = params.drawId || '';\n        _data['drawName'] = params.drawName || '';\n        _data['raffleVersion'] = params.raffleVersion || '';\n        _data['itemName'] = params.itemName || '';\n        _data['itemType'] = params.itemType || '';\n        _data['status'] = params.status || '';\n        _data['hasAddress'] = params.hasAddress || '';\n\n        if (params.startTime > 1) {\n          _data['startTime'] = ym.init.getDateTime(params.startTime[0]) || '';\n          _data['endTime'] = ym.init.getDateTime(params.startTime[1]) || '';\n        }\n\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_user_draw_raffle_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                location.href = token._j.URLS.Development_Server_ + res.path;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      //查询运维流程详情\n      machineMaintenance: function machineMaintenance(params) {\n        var it = this;\n        _data['maintainerId'] = params.maintainerId;\n        _data['maintainFlowId'] = params.maintainFlowLogId;\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'maintain_question_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.UnFormData = [];\n                res.data.forEach(function (element) {\n                  it.UnFormData.push({\n                    question: element.question,\n                    answerPic: element.answerPic,\n                    answer: function () {\n                      var _code = element.answer.split('$')[0],\n                          _code_ = '';\n                      element.answer.split('$')[0].includes('{') ? void function () {\n                        Object.keys(JSON.parse(_code)).forEach(function (element, index) {\n                          if (Object.keys(JSON.parse(_code)).length <= 2) {\n                            _code_ = \"\\u6599\\u4ED3\\uFF1A\".concat(Object.values(JSON.parse(_code))[0], \",\\u574F\\u6599\\uFF1A\").concat(Object.values(JSON.parse(_code))[1]);\n                          } else {\n                            // _code_ += ` 【 料仓：${index + 1}, 数值：${Object.values(JSON.parse(_code))[index]} 】 `;\n                            _code_ += \"\\u3010 \".concat(index + 1, \"\\u3001\").concat(Object.keys(JSON.parse(_code))[index].split('g')[0], \"\\uFF1A\").concat(Object.values(JSON.parse(_code))[index], \" g \\u3011 \");\n                          }\n                        });\n                        _code = _code_;\n                      }() : null;\n                      return _code;\n                    }()\n                  });\n                });\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      //查看料仓配置\n      machineBunkerConfig: function machineBunkerConfig(params, enitBunkerConf) {\n        var it = this;\n        _data['machineBunkerConfigId'] = params.machineBunkerConfigId;\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'machine_bunker_config',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.TableFormData = [];\n                it.formData.numberBigConf = []; //编辑时的回显\n\n                it.formData.numberSmallConf = []; // 小机器\n\n                it.bunkerConf = {\n                  name: res.bunkerConfig.bunkerConfigName,\n                  time: ym.init.getDateTime(res.bunkerConfig.createTime)\n                };\n                JSON.parse(res.bunkerConfig.bunkerConfiguration).forEach(function (element) {\n                  it.TableFormData.push({\n                    name: element.name,\n                    number: element.number,\n                    isShow: element.isShow == +true ? '是' : '否'\n                  });\n\n                  if (enitBunkerConf) {\n                    //编辑的时候回显\n                    it.numberConf(res.bunkerConfig.machineType); //重置大小机器的tag\n\n                    it.formData.disableConf = true;\n                    it.formData.disableConfMahineName = res.bunkerConfig.machineType == 2 ? \"小型桌面机\" : \"大型柜式机\";\n                    it.formData.has = res.bunkerConfig.machineBunkerConfigId; //是编辑操作的ID\n\n                    it.formData.bunkerConfigName = res.bunkerConfig.bunkerConfigName; //配置名称\n\n                    it.formData.machineType = res.bunkerConfig.machineType; //设备类型\n\n                    it.formData.isSys = res.bunkerConfig.isSys; //是否系统配置 \n\n                    if (res.bunkerConfig.machineType == 2) {\n                      it.formData.numberSmallConf.push({\n                        name: element.name,\n                        number: element.number,\n                        isShow: element.isShow\n                      });\n                    } else {\n                      it.formData.numberBigConf.push({\n                        name: element.name,\n                        number: element.number,\n                        isShow: element.isShow\n                      });\n                    }\n                  }\n                });\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      numberConf: function numberConf(params) {\n        //切换料仓类型\n        if (params == +true) {\n          this.bunkerConfNumber = true;\n        } else {\n          this.bunkerConfNumber = false;\n        }\n      },\n      pushNumberConf: function pushNumberConf(params) {\n        //提交 料仓配置\n        var it = this;\n        _data['bunkerConfigName'] = params.bunkerConfigName;\n        _data['machineType'] = params.machineType;\n\n        if (params.machineType == +true) {\n          _data['bunkerConfiguration'] = JSON.stringify(params.numberBigConf);\n        } else {\n          _data['bunkerConfiguration'] = JSON.stringify(params.numberSmallConf);\n        }\n\n        _data['isSys'] = params.isSys;\n\n        if (it.formData.has) {\n          _data['machineBunkerConfigId'] = it.formData.has;\n        }\n\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'add_or_update_machine_bunker_config',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.InputAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n                delete _data['machineBunkerConfigId'];\n                delete _data['bunkerConfigName'];\n                delete _data['machineType'];\n                delete _data['bunkerConfiguration'];\n                delete _data['isShow'];\n                delete _data['isSys'];\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      bindMachineBunker: function bindMachineBunker(params) {\n        //绑定料仓配置\n        var it = this;\n        _data['machineBunkerConfigId'] = it.formData.machineBunkerConfigAllId;\n        _data['machineNumbers'] = it.machineNumber; //数组\n\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'bind_machine_bunker',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.detailTableAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n                delete _data['machineBunkerConfigId'];\n                delete _data['machineNumbers'];\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      miniTurntableUApush: function miniTurntableUApush(params) {\n        //小程序大转盘新建 /更新提交\n        var it = this;\n        _data['raffleName'] = params.raffleName;\n        _data['allowConsumeChance'] = params.allowConsumeChance;\n        _data['allowMemberConvert'] = params.allowMemberConvert;\n        _data['allowShareChance'] = params.allowShareChance;\n        _data['convertMilliliter'] = params.convertMilliliter || 0;\n        _data['maxLuckyValue'] = params.maxLuckyValue;\n        _data['status'] = params.status;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'add_or_update_sys_draw_raffle_info',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.InputAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      miniTurntablePrizeExe: function miniTurntablePrizeExe(params) {\n        //导出抽奖记录\n        var it = this;\n        this.loading = true;\n        _data['userId'] = params.userId || '';\n        _data['nickName'] = params.nickName || '';\n        _data['adminName'] = params.adminName || '';\n        _data['raffleVersion'] = params.raffleVersion || '';\n        _data['itemType'] = params.itemType || '';\n        _data['status'] = params.status || '';\n        _data['startDate'] = params.startTime ? ym.init.getDateTime(params.startTime[0]).split(' ')[0] : '';\n        _data['endDate'] = params.startTime ? ym.init.getDateTime(params.startTime[1]).split(' ')[0] : '';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_sys_user_draw_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.UpdateTableAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n                it.loading = false;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.loading = false;\n              it.IError(error);\n            }\n          }\n        });\n      },\n      maintenanceLogsOutPut: function maintenanceLogsOutPut(params) {\n        //导出运维日志\n        var it = this;\n        this.loading = true;\n        _data['maintainerId'] = params.maintainerId || '';\n        _data['maintainerName'] = params.maintainerName || '';\n        _data['machineNumber'] = params.machineNumber || '';\n        _data['status'] = params.status || '';\n        _data['startDate'] = params.startTime ? ym.init.getDateTime(params.startTime[0]).split(' ')[0] : '';\n        _data['endDate'] = params.startTime ? ym.init.getDateTime(params.startTime[1]).split(' ')[0] : '';\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_maintain_material_answer_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.UpdateTableAndVisible = false;\n                it.ISuccessfull(res.statusCode.msg);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n                it.loading = false;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.loading = false;\n              it.IError(error);\n            }\n          }\n        });\n      },\n      miniTurntableUA: function miniTurntableUA(params, prize) {\n        //小程序大转盘配置查看， 奖品查看\n        if (prize) {\n          //奖品查看\n          this.formData.raffleName = params[0].raffleName;\n          this.formData.allowConsumeChance = params[0].allowConsumeChance;\n          this.formData.allowMemberConvert = params[0].allowMemberConvert;\n          this.formData.allowShareChance = params[0].allowShareChance;\n          this.formData.convertMilliliter = params[0].convertMilliliter;\n          this.formData.maxLuckyValue = params[0].maxLuckyValue;\n          this.formData.status = params[0].status;\n        } else {\n          this.formData.raffleName = params[0].raffleName;\n          this.formData.allowConsumeChance = params[0].allowConsumeChance;\n          this.formData.allowMemberConvert = params[0].allowMemberConvert;\n          this.formData.allowShareChance = params[0].allowShareChance;\n          this.formData.convertMilliliter = params[0].convertMilliliter;\n          this.formData.maxLuckyValue = params[0].maxLuckyValue;\n          this.formData.status = params[0].status;\n        }\n      },\n      updateTurntableVersion: function updateTurntableVersion() {\n        //大转盘版本升级，将会把所有用户数据记录重置\n        //  upgrade_sys_draw_raffle_version\n        var it = this;\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'upgrade_sys_draw_raffle_version',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      exportLogExe: function exportLogExe(params) {\n        //导出预约记录\n        var it = this;\n        it.loading = true;\n        _data = Object.assign(_data, {\n          napeName: params.napeName || '',\n          status: params.status\n        });\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'export_pre_sell_nape_log_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n                setTimeout(function () {\n                  it.loading = false;\n                }, 1000);\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      appointmentPayEdesit: function appointmentPayEdesit(params) {\n        //预约详情\n        var it = this;\n        _data = Object.assign(_data, {\n          preSellLogId: params\n        });\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'pre_sell_nape_log_detail',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.appointmentPay = {};\n                Object.keys(res.data).forEach(function (element, index) {\n                  it.appointmentPay[element] = Object.values(res.data)[index];\n                });\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      appointmentPayGrant: function appointmentPayGrant(params) {\n        //核销 发券\n        var it = this;\n        _data = Object.assign(_data, {\n          preSellLogId: params\n        });\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'pre_sell_grant',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                delete _data['preSellLogId'];\n                it.TableAndVisible = false;\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      appointmentPayGrantCancel: function appointmentPayGrantCancel(params) {\n        //确认核销 信息【不发券】\n        var it = this;\n        _data = Object.assign(_data, {\n          preSellLogId: params\n        });\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'pre_sell_cancel',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                delete _data['preSellLogId'];\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      statusPrize: function statusPrize(params) {\n        // 更改奖品状态\n        var it = this;\n        _data = Object.assign(_data, params);\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'change_sys_draw_item_info_status',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.ISuccessfull(res.statusCode.msg);\n                delete _data['itemId'];\n                it.list();\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      addressTableList: function addressTableList(params) {\n        //查看单个用户地址\n        var it = this;\n        var xml = [];\n        _typeof(params) === 'object' ? params['page'] = it.pageTableNum : params['page'] = params;\n        _data = Object.assign(_data, params);\n        ym.init.XML({\n          method: 'GET',\n          uri: token._j.URLS.Development_Server_ + 'user_address_list',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                it.addressTables = [];\n\n                for (var i = 0; i < res.data.length; i++) {\n                  // \n                  xml.push({\n                    address: res.data[i].address,\n                    phone: res.data[i].phone,\n                    named: res.data[i].named\n                  });\n                }\n\n                it.addressTables = xml; // page++;\n                // it.pageTimerOut = setTimeout(() => {\n                //     if (it.pageCount - page < 0) {  //页数 > 总页数\n                //       clearTimeout(it.pageTimerOut);\n                //       return false;\n                //     }\n                //     it.addressTableList(page);\n                //   }, 500);\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      marketingConfig: function marketingConfig(params, name) {\n        //营销配置编辑\n        var it = this;\n\n        if (name) {\n          _data['adminId'] = params.adminId;\n          _data['adminMarketingConfigId'] = params.adminMarketingConfigId;\n          _data['allowGrant'] = params.allowGrant;\n          params.allowGrant != 1 ? null : _data['grantMilliliter'] = params.grantMilliliter > 0 && params.grantMilliliter < params.convertMilliliter ? params.grantMilliliter : it.IError('数值异常！');\n          _data['allowShare'] = params.allowShare;\n          params.allowShare != 1 ? null : _data['shareMilliliter'] = params.shareMilliliter > 0 && params.shareMilliliter < params.convertMilliliter ? params.shareMilliliter : it.IError('数值异常！');\n          _data['allowSignIn'] = params.allowSignIn;\n          params.allowSignIn != 1 ? null : _data['signInMilliliter'] = params.signInMilliliter > 0 && params.signInMilliliter < params.convertMilliliter ? params.signInMilliliter : it.IError('数值异常！');\n          _data['allowChangeCup'] = params.allowChangeCup;\n          params.allowChangeCup != 1 ? null : _data['changeMilliliter'] = params.changeMilliliter > 0 && params.changeMilliliter < params.convertMilliliter ? params.changeMilliliter : it.IError('数值异常！');\n          _data['convertMilliliter'] = params.convertMilliliter > 0 ? params.convertMilliliter : it.IError('数值异常！');\n          ym.init.XML({\n            method: 'POST',\n            uri: token._j.URLS.Development_Server_ + 'update_admin_marketing_config',\n            async: false,\n            xmldata: _data,\n            done: function done(res) {\n              try {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  it.ISuccessfull(res.statusCode.msg);\n                  it.InputAndVisible = false;\n                  it.list();\n                }() : function () {\n                  throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                }();\n              } catch (error) {\n                it.IError(error);\n              }\n            }\n          });\n        } else {\n          _data['adminMarketingConfigId'] = params;\n          ym.init.XML({\n            method: 'GET',\n            uri: token._j.URLS.Development_Server_ + 'admin_marketing_config_detail',\n            async: false,\n            xmldata: _data,\n            done: function done(res) {\n              try {\n                ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                  Object.keys(res.data).forEach(function (element, index) {\n                    it.formData[element] = Object.values(res.data)[index];\n                  });\n                  it.$forceUpdate(); //input 输入问题\n                }() : function () {\n                  throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n                }();\n              } catch (error) {\n                it.IError(error);\n              }\n            }\n          });\n        }\n      },\n      couponList: function couponList(params) {\n        //用户礼券 窗口 列表\n        console.log(params);\n        var it = this; // params ? pasessionStorage.setItem('params', params.userId) : params.userId = sessionStorage.getItem('params');\n\n        _data['userId'] = params.userId;\n        _data['page'] = it.countPages;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + 'find_user_couponList',\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                res.userCouponList.forEach(function (element, index) {\n                  res.userCouponList[index].createTime = ym.init.getDateTime(element.createTime);\n                });\n                it.couponUnFormData = res.userCouponList;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      },\n      exportMachineLog: function exportMachineLog(_event, typeUrl) {\n        var it = this;\n        it.loading = true;\n        _event.machineNumber ? _data['machineNumber'] = _event.machineNumber : null;\n        _event.startTime ? _data['startTime'] = _event.startTime[0] : null;\n        _event.startTime ? _data['endTime'] = _event.startTime[1] : null;\n        _event.machineType ? _data['machineType'] = _event.machineType : null;\n        _event.status ? _data['status'] = _event.status : null;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + typeUrl,\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            try {\n              ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n                setTimeout(function () {\n                  it.loading = false;\n                  it.UpdateTableAndVisible = false;\n                }, 500);\n                location.href = token._j.URLS.Development_Server_ + res.path;\n              }() : function () {\n                throw \"收集到错误：\\n\\n\" + res.statusCode.msg;\n              }();\n            } catch (error) {\n              it.IError(error);\n            }\n          }\n        });\n      }\n    }\n  });\n}, false);\n\n//# sourceURL=webpack:///./src/public/javascripts/interactive/list.js?");

/***/ })

/******/ });